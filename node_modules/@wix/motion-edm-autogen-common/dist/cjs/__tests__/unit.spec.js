"use strict";

var _motionRuntimeTestContext = require("@wix/motion-runtime-test-context");
var _lodash = require("lodash");
var _ = require("..");
describe('generators commons', () => {
  describe('constants', () => {
    test('exposes a constant for the default query property name', () => {
      expect(_.constants.DEFAULT_REQUEST_QUERY_OBJECT_PROPERTY_NAME).toBeDefined();
    });
    test('exposes a constant for the artifact group id', () => {
      expect(_.constants.ARTIFACT_GROUP_ID).toBeDefined();
    });
    test('exposes a constant for the as-admin namespaces', () => {
      expect(_.constants.AS_ADMIN_NAMESPACE_NAME).toBeDefined();
    });
    test('exposes PagingMethods', () => {
      expect(typeof _.constants.PagingMethods).toEqual('object');
    });
    test('exposes Elevations', () => {
      expect(typeof _.constants.Elevations).toEqual('object');
    });
  });
  describe('segmentCount', () => {
    test('return the count of segments in a dot-separated path', () => {
      const expectedLength = (0, _motionRuntimeTestContext.aNumber)({
        min: 1,
        max: 10
      });
      const path = (0, _lodash.times)(expectedLength, () => (0, _motionRuntimeTestContext.aString)()).join('.');
      expect((0, _.segmentCount)(path)).toStrictEqual(expectedLength);
    });
  });
  describe('parentPathOf', () => {
    test('returns the path without the last segment', () => {
      const parentPath = (0, _lodash.times)(2, () => (0, _motionRuntimeTestContext.aString)()).join('.');
      const lastSegment = (0, _motionRuntimeTestContext.aString)();
      const path = [parentPath, lastSegment].join('.');
      expect((0, _.parentPathOf)(path)).toStrictEqual(parentPath);
    });
  });
  describe('lastPathSegmentOf', () => {
    test('returns the last segment of the given path', () => {
      const pathSegments = (0, _lodash.times)((0, _motionRuntimeTestContext.aNumber)({
        min: 1,
        max: 3
      }), () => (0, _motionRuntimeTestContext.aString)());
      const path = pathSegments.join('.');
      expect((0, _.lastPathSegmentOf)(path)).toStrictEqual(pathSegments.pop());
    });
  });
});
//# sourceMappingURL=unit.spec.js.map