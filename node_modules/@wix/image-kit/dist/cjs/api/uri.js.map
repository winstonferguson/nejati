{"version":3,"names":["_imageServiceUtils","require","_transforms","_transform","getURI","fittingType","src","target","options","transformObj","isImageTransformApplicable","id","hasAnimation","getTransform","getImageURI"],"sources":["../../../src/api/uri.ts"],"sourcesContent":["import { isImageTransformApplicable } from '../helpers/imageServiceUtils';\nimport { getImageURI } from '../engines/transforms';\nimport { getTransform } from './transform';\nimport type {\n  FittingType,\n  ImageTransformObject,\n  ImageTransformOptions,\n  ImageTransformSource,\n  ImageTransformTarget,\n} from '../types';\n\n/**\n * returns image transform uri\n *\n * @param {string}                  fittingType         imageServicesTypes.fittingTypes\n * @param {ImageTransformSource}    src                 source image\n * @param {ImageTransformTarget}    target              target component\n * @param {ImageTransformOptions}   options             transform options\n * @param {Object}                  [transformObj]      transform data object to use\n *\n * @returns {string}\n */\nfunction getURI(\n  fittingType: FittingType,\n  src: ImageTransformSource,\n  target: ImageTransformTarget,\n  options: ImageTransformOptions = {},\n  transformObj?: ImageTransformObject,\n): string {\n  // check if image transformation is applicable (e.g. .gif, .wix_mp)\n  if (isImageTransformApplicable(src.id, options?.hasAnimation)) {\n    transformObj =\n      transformObj || getTransform(fittingType, src, target, options);\n\n    // set the uri property\n    return getImageURI(transformObj);\n  }\n\n  return src.id;\n}\n\nexport { getURI };\n"],"mappings":";;;;AAAA,IAAAA,kBAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,MAAMA,CACbC,WAAwB,EACxBC,GAAyB,EACzBC,MAA4B,EAC5BC,OAA8B,GAAG,CAAC,CAAC,EACnCC,YAAmC,EAC3B;EACR;EACA,IAAI,IAAAC,6CAA0B,EAACJ,GAAG,CAACK,EAAE,EAAEH,OAAO,oBAAPA,OAAO,CAAEI,YAAY,CAAC,EAAE;IAC7DH,YAAY,GACVA,YAAY,IAAI,IAAAI,uBAAY,EAACR,WAAW,EAAEC,GAAG,EAAEC,MAAM,EAAEC,OAAO,CAAC;;IAEjE;IACA,OAAO,IAAAM,uBAAW,EAACL,YAAY,CAAC;EAClC;EAEA,OAAOH,GAAG,CAACK,EAAE;AACf"}