{"version":3,"names":["_imageServiceConstants","require","exports","fittingTypes","alignTypes","htmlTag","upscaleMethods","_imageServiceUtils","_populateFeatureSupport","populateGlobalFeatureSupport","_transform","_uri","getData","fittingType","src","target","options","isValidRequest","targetObj","getTarget","transformObj","getTransform","uri","getURI"],"sources":["../../../../src/api/uri/index.ts"],"sourcesContent":["import {\n  fittingTypes,\n  alignTypes,\n  htmlTag,\n  upscaleMethods,\n} from '../../helpers/imageServiceConstants';\nimport { isValidRequest } from '../../helpers/imageServiceUtils';\nimport { populateGlobalFeatureSupport } from '../../helpers/populateFeatureSupport';\nimport { getTarget, getTransform } from '../transform';\nimport { getURI } from '../uri';\nimport type {\n  FittingType,\n  ImageTransformSource,\n  ImageTransformTarget,\n  ImageTransformOptions,\n} from '../../types';\n\n/**\n * returns image transform uri\n *\n * @param {FittingType}             fittingType         imageServicesTypes.fittingTypes\n * @param {ImageTransformSource}    src                 source image\n * @param {ImageTransformTarget}    target              target component\n * @param {ImageTransformOptions}   [options]           transform options\n *\n * @returns {{uri: string}}\n */\nfunction getData(\n  fittingType: FittingType,\n  src: ImageTransformSource,\n  target: ImageTransformTarget,\n  options?: ImageTransformOptions,\n): { uri: string } {\n  // check if valid request\n  if (isValidRequest(fittingType, src, target)) {\n    // handle site BG legacy fitting types\n    const targetObj = getTarget(fittingType, src, target);\n    // parse request and create working OBJ\n    const transformObj = getTransform(fittingType, src, targetObj, options);\n\n    return {\n      uri: getURI(fittingType, src, targetObj, options || {}, transformObj),\n    };\n  }\n\n  return { uri: '' };\n}\n\nexport {\n  populateGlobalFeatureSupport,\n  getData,\n  fittingTypes,\n  alignTypes,\n  htmlTag,\n  upscaleMethods,\n};\n"],"mappings":";;;;AAAA,IAAAA,sBAAA,GAAAC,OAAA;AAK6CC,OAAA,CAAAC,YAAA,GAAAH,sBAAA,CAAAG,YAAA;AAAAD,OAAA,CAAAE,UAAA,GAAAJ,sBAAA,CAAAI,UAAA;AAAAF,OAAA,CAAAG,OAAA,GAAAL,sBAAA,CAAAK,OAAA;AAAAH,OAAA,CAAAI,cAAA,GAAAN,sBAAA,CAAAM,cAAA;AAC7C,IAAAC,kBAAA,GAAAN,OAAA;AACA,IAAAO,uBAAA,GAAAP,OAAA;AAAoFC,OAAA,CAAAO,4BAAA,GAAAD,uBAAA,CAAAC,4BAAA;AACpF,IAAAC,UAAA,GAAAT,OAAA;AACA,IAAAU,IAAA,GAAAV,OAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASW,OAAOA,CACdC,WAAwB,EACxBC,GAAyB,EACzBC,MAA4B,EAC5BC,OAA+B,EACd;EACjB;EACA,IAAI,IAAAC,iCAAc,EAACJ,WAAW,EAAEC,GAAG,EAAEC,MAAM,CAAC,EAAE;IAC5C;IACA,MAAMG,SAAS,GAAG,IAAAC,oBAAS,EAACN,WAAW,EAAEC,GAAG,EAAEC,MAAM,CAAC;IACrD;IACA,MAAMK,YAAY,GAAG,IAAAC,uBAAY,EAACR,WAAW,EAAEC,GAAG,EAAEI,SAAS,EAAEF,OAAO,CAAC;IAEvE,OAAO;MACLM,GAAG,EAAE,IAAAC,WAAM,EAACV,WAAW,EAAEC,GAAG,EAAEI,SAAS,EAAEF,OAAO,IAAI,CAAC,CAAC,EAAEI,YAAY;IACtE,CAAC;EACH;EAEA,OAAO;IAAEE,GAAG,EAAE;EAAG,CAAC;AACpB"}