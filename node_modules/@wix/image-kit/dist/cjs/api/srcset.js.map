{"version":3,"names":["_uri","require","getSrcset","fittingType","src","target","options","data","dpr","pixelAspectRatio","uri","getURI"],"sources":["../../../src/api/srcset.ts"],"sourcesContent":["import { getURI } from './uri';\nimport {\n  FittingType,\n  ImageDataAttributes,\n  ImageTransformOptions,\n  ImageTransformSource,\n  ImageTransformTarget,\n} from '../types';\n\nfunction getSrcset(\n  fittingType: FittingType,\n  src: ImageTransformSource,\n  target: ImageTransformTarget,\n  options: ImageTransformOptions,\n  data: ImageDataAttributes,\n) {\n  const dpr = target.pixelAspectRatio || 1;\n\n  return {\n    dpr: [\n      `${\n        dpr === 1\n          ? data.uri\n          : getURI(\n              fittingType,\n              src,\n              {\n                ...target,\n                pixelAspectRatio: 1,\n              },\n              options,\n            )\n      } 1x`,\n      `${\n        dpr === 2\n          ? data.uri\n          : getURI(\n              fittingType,\n              src,\n              {\n                ...target,\n                pixelAspectRatio: 2,\n              },\n              options,\n            )\n      } 2x`,\n    ],\n  };\n}\n\nexport { getSrcset };\n"],"mappings":";;;;AAAA,IAAAA,IAAA,GAAAC,OAAA;AASA,SAASC,SAASA,CAChBC,WAAwB,EACxBC,GAAyB,EACzBC,MAA4B,EAC5BC,OAA8B,EAC9BC,IAAyB,EACzB;EACA,MAAMC,GAAG,GAAGH,MAAM,CAACI,gBAAgB,IAAI,CAAC;EAExC,OAAO;IACLD,GAAG,EAAE,CACF,GACCA,GAAG,KAAK,CAAC,GACLD,IAAI,CAACG,GAAG,GACR,IAAAC,WAAM,EACJR,WAAW,EACXC,GAAG,EACH;MACE,GAAGC,MAAM;MACTI,gBAAgB,EAAE;IACpB,CAAC,EACDH,OACF,CACL,KAAI,EACJ,GACCE,GAAG,KAAK,CAAC,GACLD,IAAI,CAACG,GAAG,GACR,IAAAC,WAAM,EACJR,WAAW,EACXC,GAAG,EACH;MACE,GAAGC,MAAM;MACTI,gBAAgB,EAAE;IACpB,CAAC,EACDH,OACF,CACL,KAAI;EAET,CAAC;AACH"}