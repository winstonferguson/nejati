{"version":3,"names":["_motionEdmAutogenCommon","require","_lodash","_common","RESPONSE_OBJECT_UNCHANGED","transformations","contains","longerPath","shorterPath","startsWith","segmentCount","buildRequestTransformation","requestMessageIdentifierPath","requestMessageOptionsPath","transformed","set","merge","exports","buildResponseTransformation"],"sources":["../../../../../src/lib/transformations/preset/delete.ts"],"sourcesContent":["import { segmentCount } from '@wix/motion-edm-autogen-common';\nimport { merge, set } from 'lodash';\n\nimport { transformations } from '../common';\n\nconst { RESPONSE_OBJECT_UNCHANGED } = transformations;\n\nconst contains = (longerPath, shorterPath) =>\n  longerPath.startsWith(shorterPath) &&\n  segmentCount(longerPath) === segmentCount(shorterPath) + 1;\n\nconst buildRequestTransformation = ({\n  requestMessageIdentifierPath,\n  requestMessageOptionsPath,\n}) => {\n  const transformed = set({}, requestMessageIdentifierPath, '$[0]');\n\n  if (requestMessageOptionsPath) {\n    if (contains(requestMessageIdentifierPath, requestMessageOptionsPath)) {\n      return merge(transformed, {\n        [requestMessageOptionsPath]: { '*': '$[1]' },\n      });\n    }\n\n    return set(transformed, requestMessageOptionsPath, '$[1]');\n  }\n\n  return transformed;\n};\n\nconst buildResponseTransformation = () => RESPONSE_OBJECT_UNCHANGED;\n\nexport { buildRequestTransformation, buildResponseTransformation };\n"],"mappings":";;;;AAAA,IAAAA,uBAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAEA,IAAAE,OAAA,GAAAF,OAAA;AAEA,MAAQG,yBAAyB,GAAKC,uBAAe,CAA7CD,yBAAyB;AAEjC,MAAME,QAAQ,GAAGA,CAACC,UAAU,EAAEC,WAAW,KACvCD,UAAU,CAACE,UAAU,CAACD,WAAW,CAAC,IAClC,IAAAE,oCAAY,EAACH,UAAU,CAAC,KAAK,IAAAG,oCAAY,EAACF,WAAW,CAAC,GAAG,CAAC;AAE5D,MAAMG,0BAA0B,GAAGA,CAAC;EAClCC,4BAA4B;EAC5BC;AACF,CAAC,KAAK;EACJ,MAAMC,WAAW,GAAG,IAAAC,WAAG,EAAC,CAAC,CAAC,EAAEH,4BAA4B,EAAE,MAAM,CAAC;EAEjE,IAAIC,yBAAyB,EAAE;IAC7B,IAAIP,QAAQ,CAACM,4BAA4B,EAAEC,yBAAyB,CAAC,EAAE;MACrE,OAAO,IAAAG,aAAK,EAACF,WAAW,EAAE;QACxB,CAACD,yBAAyB,GAAG;UAAE,GAAG,EAAE;QAAO;MAC7C,CAAC,CAAC;IACJ;IAEA,OAAO,IAAAE,WAAG,EAACD,WAAW,EAAED,yBAAyB,EAAE,MAAM,CAAC;EAC5D;EAEA,OAAOC,WAAW;AACpB,CAAC;AAACG,OAAA,CAAAN,0BAAA,GAAAA,0BAAA;AAEF,MAAMO,2BAA2B,GAAGA,CAAA,KAAMd,yBAAyB;AAACa,OAAA,CAAAC,2BAAA,GAAAA,2BAAA"}