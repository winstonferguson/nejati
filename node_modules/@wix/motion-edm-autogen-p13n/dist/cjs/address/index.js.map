{"version":3,"names":["_lodash","require","sharedFieldNames","sharedStreetAddressFieldNames","p13nToCorvid","p13nAddress","omitBy","formatted","formattedAddress","location","geocode","pick","streetAddress","addressLine1","addressLine","addressLine2","isUndefined","undefined","exports","corvidToP13n","corvidAddress"],"sources":["../../../src/address/index.ts"],"sourcesContent":["import { pick, omitBy, isUndefined } from 'lodash';\nimport { responses } from '../proto-generated/server';\nimport type { CorvidAddress } from '@wix/motion-edm-autogen-types';\n\ntype IAddress = responses.wix.common.IAddress;\n\nconst sharedFieldNames = ['city', 'subdivision', 'country', 'postalCode'];\nconst sharedStreetAddressFieldNames = ['name', 'number', 'apt'];\n\nconst p13nToCorvid = (\n  p13nAddress?: IAddress | null,\n): CorvidAddress | undefined =>\n  p13nAddress\n    ? omitBy(\n        {\n          formatted: p13nAddress.formattedAddress,\n          location: p13nAddress.geocode,\n          ...pick(p13nAddress, sharedFieldNames),\n          streetAddress:\n            p13nAddress.streetAddress &&\n            pick(p13nAddress.streetAddress, sharedStreetAddressFieldNames),\n          addressLine1: p13nAddress.addressLine,\n          addressLine2: p13nAddress.addressLine2,\n        },\n        isUndefined,\n      )\n    : undefined;\n\nconst corvidToP13n = (\n  corvidAddress?: CorvidAddress | null,\n): IAddress | undefined =>\n  corvidAddress\n    ? omitBy(\n        {\n          formattedAddress: corvidAddress.formatted,\n          geocode: corvidAddress.location,\n          ...pick(corvidAddress, sharedFieldNames),\n          streetAddress:\n            corvidAddress.streetAddress &&\n            pick(corvidAddress.streetAddress, sharedStreetAddressFieldNames),\n          addressLine: corvidAddress.addressLine1,\n          addressLine2: corvidAddress.addressLine2,\n        },\n        isUndefined,\n      )\n    : undefined;\n\nexport { p13nToCorvid, corvidToP13n };\n"],"mappings":";;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAMA,MAAMC,gBAAgB,GAAG,CAAC,MAAM,EAAE,aAAa,EAAE,SAAS,EAAE,YAAY,CAAC;AACzE,MAAMC,6BAA6B,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC;AAE/D,MAAMC,YAAY,GAChBC,WAA6B,IAE7BA,WAAW,GACP,IAAAC,cAAM,EACJ;EACEC,SAAS,EAAEF,WAAW,CAACG,gBAAgB;EACvCC,QAAQ,EAAEJ,WAAW,CAACK,OAAO;EAC7B,GAAG,IAAAC,YAAI,EAACN,WAAW,EAAEH,gBAAgB,CAAC;EACtCU,aAAa,EACXP,WAAW,CAACO,aAAa,IACzB,IAAAD,YAAI,EAACN,WAAW,CAACO,aAAa,EAAET,6BAA6B,CAAC;EAChEU,YAAY,EAAER,WAAW,CAACS,WAAW;EACrCC,YAAY,EAAEV,WAAW,CAACU;AAC5B,CAAC,EACDC,mBACF,CAAC,GACDC,SAAS;AAACC,OAAA,CAAAd,YAAA,GAAAA,YAAA;AAEhB,MAAMe,YAAY,GAChBC,aAAoC,IAEpCA,aAAa,GACT,IAAAd,cAAM,EACJ;EACEE,gBAAgB,EAAEY,aAAa,CAACb,SAAS;EACzCG,OAAO,EAAEU,aAAa,CAACX,QAAQ;EAC/B,GAAG,IAAAE,YAAI,EAACS,aAAa,EAAElB,gBAAgB,CAAC;EACxCU,aAAa,EACXQ,aAAa,CAACR,aAAa,IAC3B,IAAAD,YAAI,EAACS,aAAa,CAACR,aAAa,EAAET,6BAA6B,CAAC;EAClEW,WAAW,EAAEM,aAAa,CAACP,YAAY;EACvCE,YAAY,EAAEK,aAAa,CAACL;AAC9B,CAAC,EACDC,mBACF,CAAC,GACDC,SAAS;AAACC,OAAA,CAAAC,YAAA,GAAAA,YAAA"}