{"version":3,"names":["_lodash","require","_motionEdmAutogenTransformationsCore","fromCorvidName","corvidEntities","renameFieldByPaths","transformationPaths","fieldPath","isString","transformationPath","findKey","_","path","startsWith","replace","split","map","segment","join","exports"],"sources":["../../src/renameFieldByPaths.ts"],"sourcesContent":["import { isString, findKey } from 'lodash';\nimport { corvidEntities } from '@wix/motion-edm-autogen-transformations-core';\n\nconst { fromCorvidName } = corvidEntities;\n\nconst renameFieldByPaths = (transformationPaths, fieldPath) => {\n  if (!isString(fieldPath)) {\n    return fieldPath;\n  }\n\n  const transformationPath = findKey(\n    transformationPaths,\n    (_, path) => path === fieldPath || fieldPath.startsWith(`${path}.`),\n  );\n\n  if (transformationPath) {\n    return fieldPath.replace(\n      transformationPath,\n      transformationPaths[transformationPath],\n    );\n  }\n\n  return fieldPath\n    .split('.')\n    .map((segment) => transformationPaths[segment] || fromCorvidName(segment))\n    .join('.');\n};\n\nexport { renameFieldByPaths };\n"],"mappings":";;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,oCAAA,GAAAD,OAAA;AAEA,MAAQE,cAAc,GAAKC,mDAAc,CAAjCD,cAAc;AAEtB,MAAME,kBAAkB,GAAGA,CAACC,mBAAmB,EAAEC,SAAS,KAAK;EAC7D,IAAI,CAAC,IAAAC,gBAAQ,EAACD,SAAS,CAAC,EAAE;IACxB,OAAOA,SAAS;EAClB;EAEA,MAAME,kBAAkB,GAAG,IAAAC,eAAO,EAChCJ,mBAAmB,EACnB,CAACK,CAAC,EAAEC,IAAI,KAAKA,IAAI,KAAKL,SAAS,IAAIA,SAAS,CAACM,UAAU,CAAE,GAAED,IAAK,GAAE,CACpE,CAAC;EAED,IAAIH,kBAAkB,EAAE;IACtB,OAAOF,SAAS,CAACO,OAAO,CACtBL,kBAAkB,EAClBH,mBAAmB,CAACG,kBAAkB,CACxC,CAAC;EACH;EAEA,OAAOF,SAAS,CACbQ,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAAEC,OAAO,IAAKX,mBAAmB,CAACW,OAAO,CAAC,IAAId,cAAc,CAACc,OAAO,CAAC,CAAC,CACzEC,IAAI,CAAC,GAAG,CAAC;AACd,CAAC;AAACC,OAAA,CAAAd,kBAAA,GAAAA,kBAAA"}