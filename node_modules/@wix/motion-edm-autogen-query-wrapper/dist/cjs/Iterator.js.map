{"version":3,"names":["Iterator","constructor","items","originQuery","fetchNextPage","fetchPrevPage","limit","_defineProperty2","default","_items","_fetchNextPage","_fetchPrevPage","_originQuery","_limit","length","pageSize","query","next","hasNext","Error","nextPageIterator","prev","hasPrev","previousPageIterator","exports"],"sources":["../../src/Iterator.ts"],"sourcesContent":["abstract class Iterator {\n  protected readonly _items;\n  protected readonly _fetchNextPage;\n  protected readonly _fetchPrevPage;\n  protected readonly _originQuery;\n  protected readonly _limit;\n\n  protected constructor({\n    items,\n    originQuery,\n    fetchNextPage,\n    fetchPrevPage,\n    limit,\n  }) {\n    this._items = items;\n    this._fetchNextPage = fetchNextPage;\n    this._fetchPrevPage = fetchPrevPage;\n    this._originQuery = originQuery;\n    this._limit = limit;\n  }\n\n  abstract hasNext(): boolean;\n  abstract hasPrev(): boolean;\n\n  get items() {\n    return this._items;\n  }\n\n  get length() {\n    return this._items.length;\n  }\n\n  get pageSize() {\n    return this._limit;\n  }\n\n  get query() {\n    return this._originQuery;\n  }\n\n  async next() {\n    if (!this.hasNext()) {\n      throw new Error('No next page to fetch');\n    }\n\n    const nextPageIterator = await this._fetchNextPage();\n\n    return nextPageIterator;\n  }\n\n  async prev() {\n    if (!this.hasPrev()) {\n      throw new Error('No previous page to fetch');\n    }\n\n    const previousPageIterator = await this._fetchPrevPage();\n\n    return previousPageIterator;\n  }\n}\n\nexport { Iterator };\n"],"mappings":";;;;;;AAAA,MAAeA,QAAQ,CAAC;EAOZC,WAAWA,CAAC;IACpBC,KAAK;IACLC,WAAW;IACXC,aAAa;IACbC,aAAa;IACbC;EACF,CAAC,EAAE;IAAA,IAAAC,gBAAA,CAAAC,OAAA;IAAA,IAAAD,gBAAA,CAAAC,OAAA;IAAA,IAAAD,gBAAA,CAAAC,OAAA;IAAA,IAAAD,gBAAA,CAAAC,OAAA;IAAA,IAAAD,gBAAA,CAAAC,OAAA;IACD,IAAI,CAACC,MAAM,GAAGP,KAAK;IACnB,IAAI,CAACQ,cAAc,GAAGN,aAAa;IACnC,IAAI,CAACO,cAAc,GAAGN,aAAa;IACnC,IAAI,CAACO,YAAY,GAAGT,WAAW;IAC/B,IAAI,CAACU,MAAM,GAAGP,KAAK;EACrB;EAKA,IAAIJ,KAAKA,CAAA,EAAG;IACV,OAAO,IAAI,CAACO,MAAM;EACpB;EAEA,IAAIK,MAAMA,CAAA,EAAG;IACX,OAAO,IAAI,CAACL,MAAM,CAACK,MAAM;EAC3B;EAEA,IAAIC,QAAQA,CAAA,EAAG;IACb,OAAO,IAAI,CAACF,MAAM;EACpB;EAEA,IAAIG,KAAKA,CAAA,EAAG;IACV,OAAO,IAAI,CAACJ,YAAY;EAC1B;EAEA,MAAMK,IAAIA,CAAA,EAAG;IACX,IAAI,CAAC,IAAI,CAACC,OAAO,CAAC,CAAC,EAAE;MACnB,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;IAC1C;IAEA,MAAMC,gBAAgB,GAAG,MAAM,IAAI,CAACV,cAAc,CAAC,CAAC;IAEpD,OAAOU,gBAAgB;EACzB;EAEA,MAAMC,IAAIA,CAAA,EAAG;IACX,IAAI,CAAC,IAAI,CAACC,OAAO,CAAC,CAAC,EAAE;MACnB,MAAM,IAAIH,KAAK,CAAC,2BAA2B,CAAC;IAC9C;IAEA,MAAMI,oBAAoB,GAAG,MAAM,IAAI,CAACZ,cAAc,CAAC,CAAC;IAExD,OAAOY,oBAAoB;EAC7B;AACF;AAACC,OAAA,CAAAxB,QAAA,GAAAA,QAAA"}