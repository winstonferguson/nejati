"use strict";

exports.__esModule = true;
exports.omitUndefinedValues = void 0;
var _lodash = require("lodash");
const isEmptyObject = maybeObject => (0, _lodash.isPlainObject)(maybeObject) && (0, _lodash.isEmpty)(maybeObject);
const isNonEmptyObject = maybeObject => (0, _lodash.isPlainObject)(maybeObject) && !(0, _lodash.isEmpty)(maybeObject);
const isDefinedNonObject = value => value !== undefined && !(0, _lodash.isPlainObject)(value);
const omitUndefinedValuesRecursive = maybeObject => (0, _lodash.transform)(maybeObject, (acc, value, key) => {
  if (isDefinedNonObject(value) || isEmptyObject(value)) {
    // @ts-expect-error
    acc[key] = value;
  } else {
    const withoutUndefinedValues = omitUndefinedValuesRecursive(value);
    if (isNonEmptyObject(withoutUndefinedValues)) {
      // @ts-expect-error
      acc[key] = withoutUndefinedValues;
    }
  }
  return acc;
});
const omitUndefinedValues = obj => omitUndefinedValuesRecursive(obj);
exports.omitUndefinedValues = omitUndefinedValues;
//# sourceMappingURL=omitUndefinedValues.js.map