{"version":3,"names":["_motionEdmAutogenTransformationsCore","require","getQueryItemsTransformationPaths","transformation","reduceTransformation","visitors","MapArrayItems","accumulator","_parentPath","_sourceArrayExpression","itemTransformation","NestedSimpleTransformationExpression","acc","path","value","stripJsonPathRootPrefix","exports"],"sources":["../../../src/lib/getQueryItemsTransformationPaths.ts"],"sourcesContent":["import {\n  reduceTransformation,\n  stripJsonPathRootPrefix,\n} from '@wix/motion-edm-autogen-transformations-core';\n\n// TODO: Pass the item transformation instead of the entire response transformation\n// in here. This will make this function simpler (we won't need to use reduceTransformation recursively)\nconst getQueryItemsTransformationPaths = (transformation) =>\n  reduceTransformation(transformation, {\n    visitors: {\n      MapArrayItems: (\n        accumulator,\n        _parentPath,\n        _sourceArrayExpression,\n        itemTransformation,\n      ) =>\n        reduceTransformation(itemTransformation, {\n          visitors: {\n            NestedSimpleTransformationExpression(acc, path, value) {\n              acc[path] = stripJsonPathRootPrefix(value);\n            },\n          },\n          accumulator,\n        }),\n    },\n    accumulator: {},\n  }) || {};\n\nexport { getQueryItemsTransformationPaths };\n"],"mappings":";;;;AAAA,IAAAA,oCAAA,GAAAC,OAAA;AAKA;AACA;AACA,MAAMC,gCAAgC,GAAIC,cAAc,IACtD,IAAAC,yDAAoB,EAACD,cAAc,EAAE;EACnCE,QAAQ,EAAE;IACRC,aAAa,EAAEA,CACbC,WAAW,EACXC,WAAW,EACXC,sBAAsB,EACtBC,kBAAkB,KAElB,IAAAN,yDAAoB,EAACM,kBAAkB,EAAE;MACvCL,QAAQ,EAAE;QACRM,oCAAoCA,CAACC,GAAG,EAAEC,IAAI,EAAEC,KAAK,EAAE;UACrDF,GAAG,CAACC,IAAI,CAAC,GAAG,IAAAE,4DAAuB,EAACD,KAAK,CAAC;QAC5C;MACF,CAAC;MACDP;IACF,CAAC;EACL,CAAC;EACDA,WAAW,EAAE,CAAC;AAChB,CAAC,CAAC,IAAI,CAAC,CAAC;AAACS,OAAA,CAAAd,gCAAA,GAAAA,gCAAA"}