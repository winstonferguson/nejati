(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("counter", [], factory);
	else if(typeof exports === 'object')
		exports["counter"] = factory();
	else
		root["counter"] = factory();
})((typeof self !== 'undefined' ? self : this), function() {
return /******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
/*!******************************!*\
  !*** ./index.ts + 5 modules ***!
  \******************************/
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "parseLeanSchemaRef": function() { return /* reexport */ parseLeanSchemaRef; },
  "resolveUrl": function() { return /* reexport */ resolveUrl; },
  "toURLSearchParams": function() { return /* reexport */ toURLSearchParams; }
});

;// CONCATENATED MODULE: ./serialization/utils.ts
function parseLeanSchemaRef(renderedSchemaName){if(renderedSchemaName===void 0){renderedSchemaName='';}var _getSchemaNameAndType=getSchemaNameAndType(renderedSchemaName),typeOrName=_getSchemaNameAndType[0],schemaName=_getSchemaNameAndType[1];if(schemaName){return{schemaName:schemaName,schemaType:typeOrName};}return{schemaName:typeOrName};}// if there is no type, returns only the name
var getSchemaNameAndType=function getSchemaNameAndType(leanSchema){return leanSchema.split('#');};
;// CONCATENATED MODULE: ./serialization/index.ts

;// CONCATENATED MODULE: ./utils.ts
function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2;}function findByPath(obj,path,defaultValue,suffix){var result=obj;for(var _iterator=_createForOfIteratorHelperLoose(path.split('.')),_step;!(_step=_iterator()).done;){var field=_step.value;if(!result){return defaultValue;}result=result[field];}return""+result+suffix;}
;// CONCATENATED MODULE: ./url-resolver.ts
var USER_DOMAIN='_';var DOMAINS=['wix.com','editorx.com'];var WIX_API_DOMAINS=['42.wixprod.net','uw2-edt-1.wixprod.net'];var DEV_WIX_CODE_DOMAIN='dev.wix-code.com';var REGEX_CAPTURE_PROTO_FIELD=/{(.*)}/;var REGEX_CAPTURE_DOMAINS=new RegExp("\\.("+DOMAINS.join('|')+")$");var REGEX_CAPTURE_API_DOMAINS=new RegExp("\\.("+WIX_API_DOMAINS.join('|')+")$");var REGEX_CAPTURE_DEV_WIX_CODE_DOMAIN=new RegExp(".*\\."+DEV_WIX_CODE_DOMAIN+"$");function resolveUrl(opts){var domain=resolveDomain(opts.host);var mappings=resolveMappingsByDomain(domain,opts.domainToMappings);var path=injectDataIntoProtoPath(opts.protoPath,opts.data||{});return resolvePath(path,mappings);}function injectDataIntoProtoPath(protoPath,data){return protoPath.split('/').map(function(path){return maybeProtoPathToData(path,data);}).join('/');}function maybeProtoPathToData(protoPath,data){var protoRegExpMatch=protoPath.match(REGEX_CAPTURE_PROTO_FIELD)||[];var field=protoRegExpMatch[1];if(field){var suffix=protoPath.replace(protoRegExpMatch[0],'');return findByPath(data,field,protoPath,suffix);}return protoPath;}function resolveDomain(host){var resolvedHost=fixHostExceptions(host);return resolvedHost.replace(REGEX_CAPTURE_DOMAINS,'._base_domain_').replace(REGEX_CAPTURE_API_DOMAINS,'._api_base_domain_').replace(REGEX_CAPTURE_DEV_WIX_CODE_DOMAIN,'*.dev.wix-code.com');}// hosts which standard string replacing doesn't apply to them, will be fixed here.
function fixHostExceptions(host){// https://system-kb.wixanswers.com/kb/en/article/editorx-domains-matching-to-wixcom
return host.replace('create.editorx.com','editor.editorx.com');}function resolveMappingsByDomain(domain,domainToMappings){var mappings=domainToMappings[domain]||domainToMappings[USER_DOMAIN];if(!mappings){if(isBaseDomain(domain)){// fallback <lang>.wix.com sub domains to www.wix.com
// since all of the languages subdomain are not mapped automatically in FP and we want to support those kind of calls
// for example: fr.wix.com
return domainToMappings[wwwBaseDomain];}}return mappings;}function resolvePath(protoPath,mappings){var mapping=mappings==null?void 0:mappings.find(function(m){return protoPath.startsWith(m.destPath);});if(!mapping){// todo: should we return the path? if no - what should we do in case of testings?
return protoPath;}return mapping.srcPath+protoPath.slice(mapping.destPath.length);}function isBaseDomain(domain){return!!domain.match(/\._base_domain_$/);}var wwwBaseDomain='www._base_domain_';
;// CONCATENATED MODULE: ./flatten-params.ts
// Flatten a nested object to params object { field: { text: 'foo' } } => { field.text ='foo' }
function flattenParams(data,path){if(path===void 0){path='';}var params={};Object.entries(data).forEach(function(_ref){var key=_ref[0],value=_ref[1];var isObject=value!==null&&typeof value==='object'&&!Array.isArray(value);var fieldPath=flatten_params_resolvePath(path,key);if(isObject){var serializedObject=flattenParams(value,fieldPath);Object.assign(params,serializedObject);}else{params[fieldPath]=value;}});return params;}function flatten_params_resolvePath(path,key){return""+path+(path?'.':'')+key;}function toURLSearchParams(params){var flatten=flattenParams(params);return Object.entries(flatten).reduce(function(urlSearchParams,_ref2){var key=_ref2[0],value=_ref2[1];// inorder to make `foo: [1,2]` turn into `foo=1&foo=2` and not `foo[]=1&foo[]=2`
var keyParams=Array.isArray(value)?value:[value];keyParams.forEach(function(param){if(param===undefined||param===null){return;}urlSearchParams.append(key,param);});return urlSearchParams;},new URLSearchParams());}
;// CONCATENATED MODULE: ./index.ts

/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=metro-runtime.umd.js.map