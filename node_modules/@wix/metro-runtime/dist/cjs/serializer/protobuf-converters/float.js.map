{"version":3,"names":["_domain","require","float","types","ConverterType","TO_JSON","transform","val","isFinite","toString","FROM_JSON","NaN","Infinity","exports"],"sources":["../../../../src/serializer/protobuf-converters/float.ts"],"sourcesContent":["import { ConverterSet, ConverterType } from '../domain';\n\nexport const float: ConverterSet = {\n  types: [\n    'FLOAT',\n    'DOUBLE',\n    'google.protobuf.FloatValue',\n    'google.protobuf.DoubleValue',\n  ],\n\n  [ConverterType.TO_JSON]: {\n    transform: (val: number) => {\n      return isFinite(val) ? val : val.toString();\n    },\n  },\n\n  [ConverterType.FROM_JSON]: {\n    transform: (val: string | number) => {\n      if (val === 'NaN') {\n        return NaN;\n      }\n\n      if (val === 'Infinity') {\n        return Infinity;\n      }\n\n      if (val === '-Infinity') {\n        return -Infinity;\n      }\n\n      return val;\n    },\n  },\n};\n"],"mappings":";;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAEO,MAAMC,KAAmB,GAAG;EACjCC,KAAK,EAAE,CACL,OAAO,EACP,QAAQ,EACR,4BAA4B,EAC5B,6BAA6B,CAC9B;EAED,CAACC,qBAAa,CAACC,OAAO,GAAG;IACvBC,SAAS,EAAGC,GAAW,IAAK;MAC1B,OAAOC,QAAQ,CAACD,GAAG,CAAC,GAAGA,GAAG,GAAGA,GAAG,CAACE,QAAQ,CAAC,CAAC;IAC7C;EACF,CAAC;EAED,CAACL,qBAAa,CAACM,SAAS,GAAG;IACzBJ,SAAS,EAAGC,GAAoB,IAAK;MACnC,IAAIA,GAAG,KAAK,KAAK,EAAE;QACjB,OAAOI,GAAG;MACZ;MAEA,IAAIJ,GAAG,KAAK,UAAU,EAAE;QACtB,OAAOK,QAAQ;MACjB;MAEA,IAAIL,GAAG,KAAK,WAAW,EAAE;QACvB,OAAO,CAACK,QAAQ;MAClB;MAEA,OAAOL,GAAG;IACZ;EACF;AACF,CAAC;AAACM,OAAA,CAAAX,KAAA,GAAAA,KAAA"}