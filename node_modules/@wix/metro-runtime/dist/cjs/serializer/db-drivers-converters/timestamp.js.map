{"version":3,"names":["_domain","require","timestamp","types","ConverterType","TO_JSON","transform","val","date","$date","Date","FROM_JSON","toISOString","exports"],"sources":["../../../../src/serializer/db-drivers-converters/timestamp.ts"],"sourcesContent":["import { ConverterSet, ConverterType } from '../domain';\n\nexport const timestamp: ConverterSet = {\n  types: ['google.protobuf.Timestamp'],\n\n  [ConverterType.TO_JSON]: {\n    transform: (val: string | DbDriverDate) => {\n      const date = typeof val === 'string' ? val : val?.$date;\n      return new Date(date);\n    },\n  },\n\n  [ConverterType.FROM_JSON]: {\n    transform: (val: Date) => ({ $date: val.toISOString() }),\n  },\n};\n\ninterface DbDriverDate {\n  $date: string;\n}\n"],"mappings":";;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAEO,MAAMC,SAAuB,GAAG;EACrCC,KAAK,EAAE,CAAC,2BAA2B,CAAC;EAEpC,CAACC,qBAAa,CAACC,OAAO,GAAG;IACvBC,SAAS,EAAGC,GAA0B,IAAK;MACzC,MAAMC,IAAI,GAAG,OAAOD,GAAG,KAAK,QAAQ,GAAGA,GAAG,GAAGA,GAAG,oBAAHA,GAAG,CAAEE,KAAK;MACvD,OAAO,IAAIC,IAAI,CAACF,IAAI,CAAC;IACvB;EACF,CAAC;EAED,CAACJ,qBAAa,CAACO,SAAS,GAAG;IACzBL,SAAS,EAAGC,GAAS,KAAM;MAAEE,KAAK,EAAEF,GAAG,CAACK,WAAW,CAAC;IAAE,CAAC;EACzD;AACF,CAAC;AAACC,OAAA,CAAAX,SAAA,GAAAA,SAAA"}