{"version":3,"names":["_domain","require","pageUrl","types","ConverterType","FROM_JSON","transform","val","base","path","TO_JSON","_URL","URL","host","pathname","exports"],"sources":["../../../../src/serializer/velo-converters/page-url.ts"],"sourcesContent":["import type com from '../../proto';\nimport { ConverterSet, ConverterType } from '../domain';\n\nexport const pageUrl: ConverterSet = {\n  types: ['wix.common.PageUrl'],\n\n  [ConverterType.FROM_JSON]: {\n    transform: (val: com.wix.common.PageUrl) => {\n      if (!val) {\n        return;\n      }\n\n      return `http://${val.base}${val.path}`;\n    },\n  },\n\n  [ConverterType.TO_JSON]: {\n    transform: (val: string): com.wix.common.PageUrl | undefined => {\n      if (!val) {\n        return;\n      }\n\n      const { host, pathname } = new URL(val);\n\n      return {\n        base: host, // (e.g mysite.wixsite.com/mysite)\n        path: pathname, // (e.g /product-page/a-product)\n      };\n    },\n  },\n};\n"],"mappings":";;;;AACA,IAAAA,OAAA,GAAAC,OAAA;AAEO,MAAMC,OAAqB,GAAG;EACnCC,KAAK,EAAE,CAAC,oBAAoB,CAAC;EAE7B,CAACC,qBAAa,CAACC,SAAS,GAAG;IACzBC,SAAS,EAAGC,GAA2B,IAAK;MAC1C,IAAI,CAACA,GAAG,EAAE;QACR;MACF;MAEA,OAAQ,UAASA,GAAG,CAACC,IAAK,GAAED,GAAG,CAACE,IAAK,EAAC;IACxC;EACF,CAAC;EAED,CAACL,qBAAa,CAACM,OAAO,GAAG;IACvBJ,SAAS,EAAGC,GAAW,IAAyC;MAC9D,IAAI,CAACA,GAAG,EAAE;QACR;MACF;MAEA,MAAAI,IAAA,GAA2B,IAAIC,GAAG,CAACL,GAAG,CAAC;QAA/BM,IAAI,GAAAF,IAAA,CAAJE,IAAI;QAAEC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;MAEtB,OAAO;QACLN,IAAI,EAAEK,IAAI;QAAE;QACZJ,IAAI,EAAEK,QAAQ,CAAE;MAClB,CAAC;IACH;EACF;AACF,CAAC;AAACC,OAAA,CAAAb,OAAA,GAAAA,OAAA"}