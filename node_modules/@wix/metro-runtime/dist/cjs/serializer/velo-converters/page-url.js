"use strict";

exports.__esModule = true;
exports.pageUrl = void 0;
var _domain = require("../domain");
const pageUrl = {
  types: ['wix.common.PageUrl'],
  [_domain.ConverterType.FROM_JSON]: {
    transform: val => {
      if (!val) {
        return;
      }
      return `http://${val.base}${val.path}`;
    }
  },
  [_domain.ConverterType.TO_JSON]: {
    transform: val => {
      if (!val) {
        return;
      }
      const _URL = new URL(val),
        host = _URL.host,
        pathname = _URL.pathname;
      return {
        base: host,
        // (e.g mysite.wixsite.com/mysite)
        path: pathname // (e.g /product-page/a-product)
      };
    }
  }
};
exports.pageUrl = pageUrl;
//# sourceMappingURL=page-url.js.map